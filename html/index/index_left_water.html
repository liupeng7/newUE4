<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>内涝点</title>
    <link rel="stylesheet" href="../../plugin/icon/iconfont.css">
    <link rel="stylesheet" href="../../common/css/index.css">
    <style>
        html{width: 660px;height: 900px;overflow: hidden}
        body{height: 100%}
        .title{font-size: 36px;font-weight: bold;width:100%;height:80px;background:-webkit-linear-gradient(left,rgba(169,220,255,0.15),rgba(169,220,255,0));
            position: relative; border:2px solid rgba(255, 255, 255, 0.3);box-shadow: 0 0 10px inset rgba(255, 255, 255, 0.3)}
        .cont{height:215px;display: flex;align-items: center;padding-left:36px;}
        .cont_list{;margin-left:20px;width: 360px}
        .cont_list .border_right{border-color: rgba(255,255,255,0.3); height: 78px; width: 1px;}
        .cont_title{font-size:24px;color:rgba(255,255,255,0.75);}
        .cont_num{font-size:42px;font-weight:bold;}
        .cont_num span{font-size:24px;}
        .index_img{height: 10px;width: 90%;background: url("../../image/index/white_line.png");background-size:100%;margin:0 5%; }
        .waning{width:660px;padding:33px 30px 0;}
        .waning_title{font-size:28px;font-weight:bold;}
        .waning_item{display: flex;align-items: center;margin-top:30px;cursor: pointer}
        .waning_item.ac .xb_icon{color:rgba(237, 78, 35, 1)}
        .waning_item .xb_icon{margin-left:18px;font-size: 34px;color:rgba(255,174,32,1);width: 44px;}
        .waning_location{font-size:22px;;font-weight: bold;margin:0 80px 0 20px}
        .waning_num b{font-size: 32px}
        .waning_num span{font-size:24px}
        .waning_num{font-size:20px;color: rgba(255,255,255,0.75)}
        .waning_num.current{margin-right:52px;}


        /*动画*/
        .index{border:3px solid rgba(255, 97, 18, 0.75);border-radius:4px; width: 100%;height: 100%;transition: all 0.5s;transform: translate(-660px,0);opacity: 0}
        .index.in{transform: translate(0,0);opacity: 1}
        .top{transition: all 0.5s;transform: translate(-660px,0);opacity: 0}
        .top.in{transform: translate(0,0);opacity: 1}
        .center{transition: all 0.5s 0.1s;transform: translate(-660px,0);opacity: 0}
        .center.in{transform: translate(0,0);opacity: 1}
        .bottom{transition: all 0.5s 0.2s;transform: translate(-660px,0);opacity: 0}
        .bottom.in{transform: translate(0,0);opacity: 1}
    </style>
</head>
<body oncontextmenu=self.event.returnValue=false >
<script src="../../plugin/echarts.min.js"></script>
<script src="../../plugin/echarts-liquidfill.min.js"></script>
<script src="../../plugin/jquery-3.1.1.min.js"></script>
<div class="index">
    <div class="top">
        <div class="title flex_cen">实时降雨</div>
    </div>
    <div class="center">
        <div class="cont">
            <div id="liquidChart" style="height: 200px;width: 200px"></div>
            <div class="cont_list flex_bet">
                <div class="cont_list_item">
                    <div class="cont_title">实时降雨量</div>
                    <div class="cont_num font_yellow">46.2<span>mm</span></div>
                </div>
                <div class="border_right"></div>
                <div class="cont_list_item">
                    <div class="cont_title">未来一小时</div>
                    <div class="cont_num">58.1<span>mm</span></div>
                </div>

            </div>
        </div>
        <div class="index_img"></div>
    </div>
    <div class="bottom">
        <div class="waning">
            <div class="waning_title">内涝点预警</div>
            <div class="waning_list">
                <div class="waning_item ac" onclick="river1()">
                    <i class="xb_icon water-rise"></i><div class="waning_location">武侯立交<br>下凹桥区</div>
                    <div class="waning_num current"><b>0.35</b><span>m</span><br>当前积水深度</div>
                    <div class="waning_num"><b>0.35</b><span>m</span><br>未来1H积水深度</div>
                </div>
                <div class="waning_item ac" onclick="river2()">
                    <i  class="xb_icon water-rise"></i><div class="waning_location">双流永康<br>森林公园</div>
                    <div class="waning_num current"><b>0.31</b><span>m</span><br>当前积水深度</div>
                    <div class="waning_num"><b>0.46</b><span>m</span><br>未来1H积水深度</div>
                </div>
                <div class="waning_item" onclick="river3()">
                    <i class="xb_icon water-rise"></i><div class="waning_location">城院小区</div>
                    <div class="waning_num current"><b>0.24</b><span>m</span><br>当前积水深度</div>
                    <div class="waning_num"><b>0.38</b><span>m</span><br>未来1H积水深度</div>
                </div>
                <div class="waning_item" onclick="river4()">
                    <i class="xb_icon water-rise"></i><div class="waning_location">三成立交<br>下凹桥区</div>
                    <div class="waning_num current"><b>0.21</b><span>m</span><br>当前积水深度</div>
                    <div class="waning_num"><b>0.33</b><span>m</span><br>未来1H积水深度</div>
                </div>
                <div class="waning_item" onclick="river5()">
                    <i class="xb_icon water-rise "></i><div class="waning_location">银河花园</div>
                    <div class="waning_num current"><b>0.21</b><span>m</span><br>当前积水深度</div>
                    <div class="waning_num"><b>0.32</b><span>m</span><br>未来1H积水深度</div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>

<script>

    window.onload=function () {
        if(window.innerWidth == 0){
            window.onresize = function () {
                liquidChart();
                if(window.innerWidth<600){
                    narrow()
                }
            };
        }else if(window.innerWidth<600){
            liquidChart();
            narrow();
        }else if(window.innerWidth>600){
            liquidChart();
        }
    };


    function river1(){
        window.ue.XBWeb.webmainleftriver1()
    }
    function river2(){
        window.ue.XBWeb.webmainleftriver2()
    }
    function river3(){
        window.ue.XBWeb.webmainleftriver3()
    }
    function river4(){
        window.ue.XBWeb.webmainleftriver4()
    }
    function river5(){
        window.ue.XBWeb.webmainleftriver5()
    }
    function liquidChart(){
        var myChart = echarts.init(document.getElementById('liquidChart'));
        var option = {
            series: [{
                type: 'liquidFill',
                data: [0.75],
                radius: '80%',
                outline: {
                    show: true,
                    borderDistance: 8,
                    itemStyle: {
                        color: 'none',
                        borderColor:new echarts.graphic.LinearGradient(1,0,0,0,[
                            {offset: 0.0,color:'rgba(230, 66, 8, 1)'},
                            {offset: 0.6, color: 'rgba(239, 182, 60, 1)'},
                            {offset: 0.9, color: 'rgba(255, 255, 255, 1)'},
                        ]),
                        borderWidth: 6,
                    }
                },
                itemStyle: {
                    normal: {
                        color:'rgba(248, 53, 0, 1)',
                    }
                },
                label: {
                    show: true,
                    formatter:function(){
                      return '红色'+ '\n' +'预警'
                    },
                    color: '#fff',
                    insideColor: '#fff',
                    fontSize: 30,
                    fontWeight: 'bold',
                    align: 'center',
                    baseline: 'middle',
                    position: 'inside'
                },
                backgroundStyle:{
                    opacity:0
                }

            }]
        };

        myChart.setOption(option)
    }
    function narrow(){
        let width = $('html').width()*0.25;
        let height = $('html').height()*0.25;
        $('html').css({
            position: 'absolute',
            transform:'scale(0.5)',
            left:-width,
            top:-height
        });
    }

    function comeIn() {
        $('.index').addClass('in');
        $('.top').addClass('in');
        $('.center').addClass('in');
        $('.bottom').addClass('in');
    }

    function goOut() {
        $('.index').removeClass('in');
        $('.top').removeClass('in');
        $('.center').removeClass('in');
        $('.bottom').removeClass('in');
    }
</script>
